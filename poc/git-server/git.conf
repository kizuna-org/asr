# git-server/git.conf (詳細ログ版)

# --- ここからが追記 ---
# ログをDockerの標準出力/標準エラー出力に流し、docker logsコマンドで確認できるようにする
ErrorLog /dev/stderr

# ログレベルを最も詳細なレベルの一つである'debug'に設定
LogLevel debug

# デバッグに役立つ情報（認証ユーザー名 %u など）を含む詳細なログフォーマットを定義
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" detailed
CustomLog /dev/stdout detailed
# --- ここまでが追記 ---


SetEnv GIT_PROJECT_ROOT /git
SetEnv GIT_HTTP_EXPORT_ALL

ScriptAlias /git/ /usr/libexec/git-core/git-http-backend/

<Location /git>
    AuthType Basic
    AuthName "Private Git Access"
    AuthUserFile /etc/apache2/git.htpasswd
    Require valid-user
</Location>
